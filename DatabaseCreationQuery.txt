CREATE DATABASE Restaurant_DB;

CREATE TABLE Customers (
  CustomerID INT PRIMARY KEY AUTO_INCREMENT,
  Name VARCHAR(255) NOT NULL,
  Email VARCHAR(255) NOT NULL UNIQUE,
  Password VARCHAR(255) NOT NULL,
  Phone VARCHAR(20),
  Address VARCHAR(255)
);

CREATE TABLE Orders (
  OrderID INT PRIMARY KEY AUTO_INCREMENT,
  CustomerID INT NOT NULL,
  FOREIGN KEY (CustomerID) REFERENCES Customers(CustomerID) ON UPDATE CASCADE,
  Status VARCHAR(50) NOT NULL,
  OrderPrice DECIMAL(10,2) NOT NULL
);

CREATE TABLE OrderItems (
  OrderID INT NOT NULL,
  FoodID INT NOT NULL,
  Quantity INT NOT NULL,
  FOREIGN KEY (OrderID) REFERENCES Orders(OrderID) ON UPDATE CASCADE,
  FOREIGN KEY (FoodID) REFERENCES Food(FoodID) ON UPDATE CASCADE
);

CREATE TABLE Food (
  FoodID INT PRIMARY KEY AUTO_INCREMENT,
  FoodName VARCHAR(255) NOT NULL,
  Description TEXT,
  Category VARCHAR(50),
  Price DECIMAL(10,2) NOT NULL
);

CREATE TABLE Feedback (
  FeedbackID INT PRIMARY KEY AUTO_INCREMENT,
  CustomerID INT NOT NULL,
  FoodID INT NOT NULL,
  StarRating INT NOT NULL,
  Title VARCHAR(255),
  Description TEXT,
  FOREIGN KEY (CustomerID) REFERENCES Customers(CustomerID) ON UPDATE CASCADE,
  FOREIGN KEY (FoodID) REFERENCES Food(FoodID) ON UPDATE CASCADE
);

CREATE TABLE Admin (
  AdminID INT PRIMARY KEY AUTO_INCREMENT,
  AdminName VARCHAR(255) NOT NULL,
  AdminEmail VARCHAR(255) NOT NULL UNIQUE,
  AdminPassword VARCHAR(255) NOT NULL,
  AdminPhone VARCHAR(20),
  AdminAddress VARCHAR(255)
);
